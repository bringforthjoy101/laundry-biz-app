(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[199],{2259:function(e,t,s){"use strict";s.r(t);var a=s(30),n=s(1),c=s(839),r=s(804),i=s(88),l=s(502),o=s(503),d=s(504),u=s(500),j=s(498),m=s(22),b=s.n(m),x=s(47),h=s(491),O=s(552),f=s(559),p=s(548),v=s(1028),g=s(572),N=s(555),w=s(565),_=s(577),y=s(6),S=_.c().shape({amount:_.b().lessThan(1e5,"You cant add funds more than 100000").required("Amount is required").positive().integer(),reason:_.d().min(3,"Reason too Short!").max(50,"Reason too Long!").required("Reason is required"),user_id:_.d().required("required")}),k=(_.c().shape({user_id:_.d().required("required"),reason:_.d().required("required")}),function(e){var t=e.userId,s=(e.userData,Object(i.b)()),c=Object(n.useState)(!1),l=Object(a.a)(c,2),o=l[0],d=l[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)(h.a.Ripple,{className:"text-center mb-1",color:"primary",outline:!0,block:!0,onClick:function(){return d(!o)},children:"Add Funds"}),Object(y.jsxs)(O.a,{isOpen:o,toggle:function(){return d(!o)},className:"modal-dialog-centered",children:[Object(y.jsx)(f.a,{toggle:function(){return d(!o)},children:"Add Funds"}),Object(y.jsx)(w.d,{initialValues:{amount:"",reason:"",user_id:t},validationSchema:S,onSubmit:function(){var e=Object(x.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.next=3,s(Object(r.a)(t));case 3:n(!1),d(!o);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,s=e.touched,a=e.isSubmitting;return Object(y.jsxs)(w.c,{children:[Object(y.jsxs)(p.a,{children:[Object(y.jsxs)(v.a,{children:[Object(y.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(y.jsx)(w.b,{type:"number",name:"amount",placeholder:"Amount",className:"form-control ".concat(t.amount&&s.amount&&"is-invalid")}),Object(y.jsx)(w.a,{name:"amount",component:"div",className:"field-error text-danger"})]}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)("label",{htmlFor:"reason",children:"Reason"}),Object(y.jsx)(w.b,{type:"text",name:"reason",placeholder:"Reason",className:"form-control ".concat(t.reason&&s.reason&&"is-invalid")}),Object(y.jsx)(w.a,{name:"reason",component:"div",className:"field-error text-danger"})]})]}),Object(y.jsx)(g.a,{children:Object(y.jsxs)(h.a.Ripple,{color:"primary",type:"submit",disabled:a,children:[a&&Object(y.jsx)(N.a,{color:"white",size:"sm"}),Object(y.jsx)("span",{className:"ml-50",children:"Add Funds"})]})})]})}})]})]})}),A=function(e){var t=e.userId,s=(e.userData,Object(i.b)()),c=Object(n.useState)(!1),l=Object(a.a)(c,2),o=l[0],d=l[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)(h.a.Ripple,{className:"text-center mb-1",color:"danger",outline:!0,block:!0,onClick:function(){return d(!o)},children:"Deduct Funds"}),Object(y.jsxs)(O.a,{isOpen:o,toggle:function(){return d(!o)},className:"modal-dialog-centered",children:[Object(y.jsx)(f.a,{toggle:function(){return d(!o)},children:"Deduct Funds"}),Object(y.jsx)(w.d,{initialValues:{amount:"",reason:"",user_id:t},validationSchema:S,onSubmit:function(){var e=Object(x.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.next=3,s(Object(r.b)(t));case 3:n(!1),d(!o);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,s=e.touched,a=e.isSubmitting;return Object(y.jsxs)(w.c,{children:[Object(y.jsxs)(p.a,{children:[Object(y.jsxs)(v.a,{children:[Object(y.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(y.jsx)(w.b,{type:"number",name:"amount",placeholder:"Amount",className:"form-control ".concat(t.amount&&s.amount&&"is-invalid")}),Object(y.jsx)(w.a,{name:"amount",component:"div",className:"field-error text-danger"})]}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)("label",{htmlFor:"reason",children:"Reason"}),Object(y.jsx)(w.b,{type:"text",name:"reason",placeholder:"Reason",className:"form-control ".concat(t.reason&&s.reason&&"is-invalid")}),Object(y.jsx)(w.a,{name:"reason",component:"div",className:"field-error text-danger"})]})]}),Object(y.jsx)(g.a,{children:Object(y.jsxs)(h.a.Ripple,{color:"primary",type:"submit",disabled:a,children:[a&&Object(y.jsx)(N.a,{color:"white",size:"sm"}),Object(y.jsx)("span",{className:"ml-50",children:"Deduct Funds"})]})})]})}})]})]})},D=(s(19),function(e){var t=e.selectedUser,s=e.userData;return Object(y.jsxs)(d.a,{className:"plan-card border-primary",children:[Object(y.jsx)(u.a,{className:"d-flex justify-content-between align-items-center pt-75 pb-1"}),Object(y.jsxs)(j.a,{children:[Object(y.jsx)(k,{userId:t.user_details.user_id,userData:s}),Object(y.jsx)(A,{userId:t.user_details.user_id,userData:s})]})]})}),R=s(497),z=s(505),F=s(1156),U=s(1186),E=s(1079),q=s(1152),T=s(1115),L=s(749),C=s.n(L),G=function(e){var t,s,a,n,c,r,i=e.selectedUser;return Object(y.jsx)(d.a,{children:Object(y.jsx)(j.a,{children:Object(y.jsxs)(l.a,{children:[Object(y.jsxs)(o.a,{xl:"6",lg:"12",className:"d-flex flex-column justify-content-between border-container-lg",children:[Object(y.jsx)("div",{className:"user-avatar-section",children:Object(y.jsxs)("div",{className:"d-flex justify-content-start",children:[function(){if(null!==i&&i.avatar)return Object(y.jsx)("img",{src:i.avatar,alt:"user-avatar",className:"img-fluid rounded",height:"104",width:"104"});var e=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(y.jsx)(R.a,{initials:!0,color:e,className:"rounded",content:i.user_details.names,contentStyles:{borderRadius:0,fontSize:"calc(36px)",width:"100%",height:"100%"},style:{height:"90px",width:"90px"}})}(),Object(y.jsx)("div",{className:"d-flex flex-column ml-1",children:Object(y.jsxs)("div",{className:"user-info mt-2",children:[Object(y.jsx)("h4",{className:"mb-0",children:null!==i?i.user_details.names:"Eleanor Aguilar"}),Object(y.jsx)(z.a,{tag:"span",children:null!==i?i.user_details.email:"eleanor.aguilar@gmail.com"})]})})]})}),Object(y.jsxs)("div",{className:"d-flex align-items-center user-total-numbers",children:[Object(y.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(y.jsx)("div",{className:"color-box bg-light-primary",children:Object(y.jsx)(F.a,{className:"text-primary"})}),Object(y.jsxs)("div",{className:"ml-1",children:[Object(y.jsx)("h5",{className:"mb-0",children:i.user_details.naira_wallet.toLocaleString("en-US",{style:"currency",currency:"NGN"})}),Object(y.jsx)("small",{children:"Naira Balance"})]})]}),Object(y.jsxs)("div",{className:"d-flex align-items-center",children:[Object(y.jsx)("div",{className:"color-box bg-light-success",children:Object(y.jsx)(F.a,{className:"text-success"})}),Object(y.jsxs)("div",{className:"ml-1",children:[Object(y.jsx)("h5",{className:"mb-0",children:i.user_details.appia_coins}),Object(y.jsx)("small",{children:"Appia Coin"})]})]})]}),Object(y.jsxs)("div",{className:"mt-3 mr-5",children:[Object(y.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(U.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"User Id"})]}),Object(y.jsx)(z.a,{className:"mb-0",children:null!==i?i.user_details.user_id:"eleanor.aguilar"})]}),Object(y.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center my-50",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(E.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Status"})]}),Object(y.jsx)(z.a,{className:"text-capitalize mb-0",children:null!==i&&i.user_details.status||"Active"})]}),Object(y.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center my-50",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(q.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Phone No"})]}),Object(y.jsx)(z.a,{className:"text-capitalize mb-0",children:i.user_details.phone})]})]})]}),Object(y.jsx)(o.a,{xl:"6",lg:"12",className:"mt-2 mt-xl-0",children:Object(y.jsxs)("div",{className:"user-info-wrapper",children:[null!==(null===i||void 0===i?void 0:i.user_bank_details)?Object(y.jsxs)("div",{className:"mt-2",children:[Object(y.jsx)("div",{className:"user-info-title",children:Object(y.jsx)(C.a,{children:" Bank Details: "})}),Object(y.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-0",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(U.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Name"})]}),Object(y.jsx)(z.a,{className:"mb-0",children:null===i||void 0===i||null===(t=i.user_bank_details)||void 0===t?void 0:t.account_name})]}),Object(y.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(T.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Number"})]}),Object(y.jsx)(z.a,{className:"mb-0",children:null===i||void 0===i||null===(s=i.user_bank_details)||void 0===s?void 0:s.account_number})]}),Object(y.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(q.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Bank Name"})]}),Object(y.jsx)(z.a,{className:"mb-0",children:null===i||void 0===i||null===(a=i.user_bank_details)||void 0===a?void 0:a.bank_name})]})]}):"",Object(y.jsxs)("div",{className:"mt-2",children:[Object(y.jsx)("div",{className:"user-info-title",children:Object(y.jsx)(C.a,{children:" Providus Details: "})}),Object(y.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-0",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(U.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Name"})]}),Object(y.jsx)(z.a,{className:"mb-0",children:null===i||void 0===i||null===(n=i.user_providus_details)||void 0===n?void 0:n.account_name})]}),Object(y.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(T.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Number"})]}),Object(y.jsx)(z.a,{className:"mb-0",children:null===i||void 0===i||null===(c=i.user_providus_details)||void 0===c?void 0:c.account_number})]}),Object(y.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(y.jsxs)("div",{className:"user-info-title",children:[Object(y.jsx)(q.a,{className:"mr-1",size:14}),Object(y.jsx)(z.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Bank Name"})]}),Object(y.jsx)(z.a,{className:"mb-0",children:null===i||void 0===i||null===(r=i.user_providus_details)||void 0===r?void 0:r.bank_name})]})]})]})})]})})})},I=s(131);s(506),t.default=function(e){var t=Object(i.c)((function(e){return e.appiaFunds})),s=Object(i.b)(),d=Object(c.i)().id,u=Object(n.useState)(null),j=Object(a.a)(u,2),m=j[0],b=j[1];return Object(n.useEffect)((function(){s(Object(r.e)(d))}),[s]),Object(n.useEffect)((function(){null!==Object(I.g)()&&b(JSON.parse(localStorage.getItem("userData")))}),[]),null!==t.selectedUser&&void 0!==t.selectedUser?Object(y.jsx)("div",{className:"app-user-view",children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(o.a,{xl:"9",lg:"8",md:"7",children:Object(y.jsx)(G,{selectedUser:t.selectedUser})})," Control Admin"===(null===m||void 0===m?void 0:m.role_name)||"Super Admin"===(null===m||void 0===m?void 0:m.role_name)?Object(y.jsx)(o.a,{xl:"3",lg:"4",md:"5",children:Object(y.jsx)(D,{selectedUser:t.selectedUser,userData:m})}):""]})}):""}},506:function(e,t,s){},804:function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"d",(function(){return l})),s.d(t,"e",(function(){return o})),s.d(t,"a",(function(){return d})),s.d(t,"b",(function(){return u}));var a=s(22),n=s.n(a),c=s(47),r=s(131),i=function(){return function(){var e=Object(c.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)({url:"/admin/users",method:"GET"},t);case 2:if(!((s=e.sent)&&s.data.data&&s.data.success)){e.next=8;break}return e.next=6,t({type:"GET_ALL_DATA",data:s.data.data});case 6:e.next=10;break;case 8:console.log(s),Object(r.l)("Oops!","Something went wrong.","error");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e,t){return function(){var s=Object(c.a)(n.a.mark((function s(a){var c,i,l,o,d,u,j,m,b,x;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:c=t.q,i=void 0===c?"":c,l=t.perPage,o=void 0===l?10:l,d=t.page,u=void 0===d?1:d,j=t.status,m=void 0===j?null:j,b=i.toLowerCase(),x=e.filter((function(e){return(e.email.toLowerCase().includes(b)||e.names.toLowerCase().includes(b)||e.referral_code.toLowerCase().includes(b))&&e.status===(m||e.status)})),a({type:"GET_FILTERED_USER_DATA",data:Object(r.i)(x,o,u),totalPages:x.length,params:t});case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},o=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(s){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)({url:"/admin/users/details/".concat(e),method:"GET"},s);case 2:if(!((a=t.sent)&&a.data&&a.data.success)){t.next=8;break}return t.next=6,s({type:"GET_USER",selectedUser:a.data});case 6:t.next=10;break;case 8:console.log(a),Object(r.l)("Oops!","Something went wrong.","error");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){var t=e.user_id,s=e.reason,a=e.amount;return function(){var e=Object(c.a)(n.a.mark((function e(c){var i,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify({user_id:t,reason:s,amount:a}),e.next=3,Object(r.a)({url:"/admin/users/add",method:"POST",body:i},c);case 3:l=e.sent,console.log({response:l}),l&&l.data.success?Object(r.l)("Good!","Funds of ".concat(a," was successfully added and is pending aproval!."),"success"):(console.log(l),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=function(e){var t=e.user_id,s=e.reason,a=e.amount;return function(){var e=Object(c.a)(n.a.mark((function e(c){var i,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify({user_id:t,reason:s,amount:a}),e.next=3,Object(r.a)({url:"/admin/users/deduct",method:"POST",body:i},c);case 3:(l=e.sent)&&l.data.success?Object(r.l)("Good!","Funds of ".concat(a," was successfully deducted and is pending aproval!."),"success"):(console.log(l),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=199.74def04b.chunk.js.map