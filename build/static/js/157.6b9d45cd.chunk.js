(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[157],{2261:function(e,a,t){"use strict";t.r(a);var n=t(30),c=t(1),r=t(495),s=t(497),i=t(22),l=t.n(i),o=t(47),u=(t(48),t(131)),d=function(e,a){return function(){var t=Object(o.a)(l.a.mark((function t(n){var c,r,s,i,o,d,p,m,j;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=a.q,r=void 0===c?"":c,s=a.perPage,i=void 0===s?10:s,o=a.page,d=void 0===o?1:o,p=a.role,void 0===p?null:p,m=r.toLowerCase(),j=null===e||void 0===e?void 0:e.filter((function(e){var a,t,n;return(null===e||void 0===e||null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(m))||(null===e||void 0===e||null===(t=e.name)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(m))})),n({type:"GET_FILTERED_DATA",data:Object(u.i)(j,i,d),totalPages:j.length,params:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=t(19),m=t(509),j=t.n(m),b=t(6),g=function(e){var a=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return e.avatar?Object(b.jsx)(s.a,{className:"mr-1",img:e.avatar,width:"32",height:"32"}):Object(b.jsx)(s.a,{color:a||"primary",className:"mr-1",content:"".concat(e.name)||"John Doe",initials:!0})},f=[{name:"Full Name",minWidth:"297px",selector:"name",sortable:!0,cell:function(e){return Object(b.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[g(e),Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)(r.b,{to:"/appia/contacts/view/".concat(e.id),className:"user-name text-truncate mb-0",onClick:function(){return p.a.dispatch((a=p.a.getState().appiaContacts.allData,t=e.id,function(){var e=Object(o.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.find((function(e){return e.id===t})),n({type:"GET_CONTACT",selectedContact:c});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));var a,t},children:Object(b.jsx)("span",{className:"font-weight-bold",children:e.name})}),Object(b.jsx)("small",{className:"text-truncate text-muted mb-0",children:e.email})]})]})}},{name:"Email",minWidth:"320px",selector:"email",sortable:!0,cell:function(e){return e.email}},{name:"Subject",minWidth:"172px",selector:"subject",sortable:!0,cell:function(e){return e.subject}},{name:"Date",minWidth:"200px",selector:"created_at",sortable:!0,cell:function(e){return j()(e.created_at).format("lll")}}],h=t(88),v=t(511),x=t.n(v),O=t(1080),N=t(517),C=t.n(N),w=t(504),y=t(500),T=t(499),k=t(498),M=t(502),P=t(503),L=t(518),E=t(1046),D=t(1025),S=(t(525),t(510),function(){var e=Object(h.b)(),a=Object(h.c)((function(e){return e.appiaContacts})),t=Object(c.useState)(""),r=Object(n.a)(t,2),s=r[0],i=r[1],p=Object(c.useState)(1),m=Object(n.a)(p,2),j=m[0],g=m[1],v=Object(c.useState)(10),N=Object(n.a)(v,2),S=N[0],_=N[1];Object(c.useEffect)((function(){e(function(){var e=Object(o.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)({url:"/admin/misc/contacts",method:"GET"},a);case 2:if(!(t=e.sent)){e.next=12;break}if(!t.data.data||!t.data.success){e.next=9;break}return e.next=7,a({type:"GET_ALL_CONTACTS",data:t.data.data});case 7:e.next=10;break;case 9:console.log(t.error);case 10:e.next=13;break;case 12:Object(u.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),e(d(a.allData,{page:j,perPage:S,q:s}))}),[e]);var q=a.allData.filter((function(e){return e.email.toLowerCase()||e.name.toLowerCase()}));return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)(y.a,{children:Object(b.jsx)(T.a,{tag:"h4",children:"Search Filter"})}),Object(b.jsx)(k.a,{children:Object(b.jsx)(M.a,{children:Object(b.jsxs)(P.a,{md:"4",className:"d-flex",children:[Object(b.jsx)(L.a,{className:"mb-0 mt-1",for:"search-invoice",children:"Search:"}),Object(b.jsx)(E.a,{id:"search-invoice",className:"ml-50 w-100",type:"text",value:s,onChange:function(t){return n=t.target.value,i(n),void e(d(a.allData,{page:j,perPage:S,q:n}));var n}})]})})})]}),Object(b.jsxs)(w.a,{children:[Object(b.jsx)(M.a,{className:"mx-0 mt-3",children:Object(b.jsx)(P.a,{sm:"6",children:Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)(L.a,{for:"rows-per-page",children:"Show"}),Object(b.jsxs)(D.a,{className:"form-control mx-50",type:"select",id:"rows-per-page",value:S,onChange:function(t){var n=parseInt(t.currentTarget.value);e(d(a.allData,{page:j,perPage:n,q:s})),_(n)},style:{width:"10rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0"},children:[Object(b.jsx)("option",{value:"10",children:"10"}),Object(b.jsx)("option",{value:"25",children:"25"}),Object(b.jsx)("option",{value:"50",children:"50"})]}),Object(b.jsx)(L.a,{for:"rows-per-page",children:"Entries"})]})})}),Object(b.jsx)(C.a,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:f,sortIcon:Object(b.jsx)(O.a,{}),className:"react-dataTable",paginationComponent:function(){var t=Math.ceil(q.length/S);return Object(b.jsx)(x.a,{previousLabel:"",nextLabel:"",pageCount:t||1,activeClassName:"active",forcePage:0!==j?j-1:0,onPageChange:function(t){return function(t){e(d(a.allData,{page:t.selected+1,perPage:S,q:s})),g(t.selected+1)}(t)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e={q:s},t=Object.keys(e).some((function(a){return e[a].length>0}));return a.data.length>0?a.data:0===a.data.length&&t?[]:a.allData.slice(0,S)}()})]})]})});t(506),a.default=function(){return Object(b.jsx)("div",{className:"app-user-list",children:Object(b.jsx)(S,{})})}},498:function(e,a,t){"use strict";var n=t(14),c=t(15),r=t(1),s=t.n(r),i=t(2),l=t.n(i),o=t(29),u=t.n(o),d=t(87),p={tag:d.tagPropType,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},m=function(e){var a=e.className,t=e.cssModule,r=e.innerRef,i=e.tag,l=Object(c.a)(e,["className","cssModule","innerRef","tag"]),o=Object(d.mapToCssModules)(u()(a,"card-body"),t);return s.a.createElement(i,Object(n.a)({},l,{className:o,ref:r}))};m.propTypes=p,m.defaultProps={tag:"div"},a.a=m},499:function(e,a,t){"use strict";var n=t(14),c=t(15),r=t(1),s=t.n(r),i=t(2),l=t.n(i),o=t(29),u=t.n(o),d=t(87),p={tag:d.tagPropType,className:l.a.string,cssModule:l.a.object},m=function(e){var a=e.className,t=e.cssModule,r=e.tag,i=Object(c.a)(e,["className","cssModule","tag"]),l=Object(d.mapToCssModules)(u()(a,"card-title"),t);return s.a.createElement(r,Object(n.a)({},i,{className:l}))};m.propTypes=p,m.defaultProps={tag:"div"},a.a=m},500:function(e,a,t){"use strict";var n=t(14),c=t(15),r=t(1),s=t.n(r),i=t(2),l=t.n(i),o=t(29),u=t.n(o),d=t(87),p={tag:d.tagPropType,className:l.a.string,cssModule:l.a.object},m=function(e){var a=e.className,t=e.cssModule,r=e.tag,i=Object(c.a)(e,["className","cssModule","tag"]),l=Object(d.mapToCssModules)(u()(a,"card-header"),t);return s.a.createElement(r,Object(n.a)({},i,{className:l}))};m.propTypes=p,m.defaultProps={tag:"div"},a.a=m},506:function(e,a,t){},510:function(e,a,t){}}]);
//# sourceMappingURL=157.6b9d45cd.chunk.js.map