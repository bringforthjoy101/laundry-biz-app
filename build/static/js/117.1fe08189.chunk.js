(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[117],{2267:function(e,t,a){"use strict";a.r(t);var n=a(30),s=a(1),r=a(839),c=a(495),l=a(754),i=a(509),o=a.n(i),d=a(88),u=a(131),j=a(502),b=a(503),m=a(527),p=a(504),f=a(498),O=a(505),h=a(1186),v=a(1128),x=a(1152),g=a(1087),w=a(1092),N=a(6),y=function(e){var t=e.selectedClaim;return Object(N.jsx)(p.a,{children:Object(N.jsx)(f.a,{children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(b.a,{xl:"6",lg:"6",className:"mt-2 mt-xl-0",children:Object(N.jsxs)("div",{className:"user-info-wrapper",children:[Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box ",children:Object(N.jsx)(h.a,{})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"User Names"})]}),Object(N.jsx)(O.a,{className:"mb-0",children:t.names})]}),Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box",children:Object(N.jsx)(v.a,{})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"User Email"})]}),Object(N.jsx)(O.a,{className:"mb-0",children:t.email})]}),Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box",children:Object(N.jsx)(x.a,{})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Phone"})]}),Object(N.jsx)(O.a,{className:"mb-0",children:t.phone})]}),Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box",children:Object(N.jsx)(v.a,{})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"User Id"})]}),Object(N.jsx)(O.a,{className:"mb-0",children:t.user_id})]})]})}),Object(N.jsx)(b.a,{xl:"6",lg:"6",className:"mt-2 mt-xl-0",children:Object(N.jsxs)("div",{className:"user-info-wrapper",children:[Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box",children:Object(N.jsx)(v.a,{})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Reward Id"})]}),Object(N.jsx)(O.a,{className:"mb-0",children:t.reward_id})]}),Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box",children:Object(N.jsx)(v.a,{})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Transaction Id"})]}),Object(N.jsx)(O.a,{className:"mb-0",children:t.transaction_id})]}),Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(N.jsx)(g.a,{className:"text-secoundary"})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Date Claimed"})]}),Object(N.jsx)(O.a,{className:"text-capitalize mb-0",children:o()(null===t||void 0===t?void 0:t.created_at).format("lll")})]}),Object(N.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(N.jsx)(w.a,{className:"text-secoundary"})}),Object(N.jsx)(O.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Claim Code"})]}),Object(N.jsx)(O.a,{className:"text-capitalize mb-0",children:null!==(null===t||void 0===t?void 0:t.code)?t.code:"No Code"})]})]})})]})})})},C=(a(497),[{name:"Transaction Id",minWidth:"180px",selector:"transaction_id",cell:function(e){return Object(N.jsx)("span",{children:"#".concat(e.transaction_id)})}},{name:"User Id",minWidth:"180px",selector:"user_id",cell:function(e){return Object(N.jsx)("span",{children:"#".concat(e.user_id)})}},{name:"reward_id",minWidth:"300px",selector:"reward_id",sortable:!0,cell:function(e){return e.reward_id}},{name:"Date",minWidth:"200px",selector:"created_at",sortable:!0,cell:function(e){return o()(e.created_at).format("lll")}}]),P=a(511),_=a.n(P),k=a(1165),L=a(1113),T=a(1080),E=a(517),S=a.n(E),U=a(518),D=a(1025),I=a(1046),A=a(538),M=a(1372),H=a(1041),W=a(1042),R=(a(560),a(510),a(536)),q=(a(541),function(e){var t=e.handleFilter,a=e.value,n=e.handlePerPage,s=e.rowsPerPage,r=e.downloadCSV,c=e.storeData,l=e.downloadPDF;return Object(N.jsx)("div",{className:"invoice-list-table-header w-100 py-2",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(b.a,{lg:"6",sm:"12",className:"d-flex align-items-center px-0 px-lg-1 mb-2",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(N.jsx)(U.a,{for:"rows-per-page",children:"Show"}),Object(N.jsxs)(D.a,{className:"form-control ml-50 pr-3",type:"select",id:"rows-per-page",value:s,onChange:n,children:[Object(N.jsx)("option",{value:"10",children:"10"}),Object(N.jsx)("option",{value:"25",children:"25"}),Object(N.jsx)("option",{value:"50",children:"50"})]})]}),Object(N.jsx)("h3",{className:"d-none d-lg-block",children:"User's Utilities Transactions"})]}),Object(N.jsx)(b.a,{lg:"3",sm:"6",className:"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pr-lg-1 p-0 mb-2",children:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)(U.a,{for:"search-invoice",children:"Search"}),Object(N.jsx)(I.a,{id:"search-invoice",className:"ml-50 mr-2 w-100",type:"text",value:a,onChange:function(e){return t(e.target.value)},placeholder:"Search Invoice"})]})}),Object(N.jsx)(b.a,{lg:"3",sm:"12",children:Object(N.jsxs)(A.a,{children:[Object(N.jsxs)(M.a,{color:"secondary",caret:!0,outline:!0,children:[Object(N.jsx)(k.a,{size:15}),Object(N.jsx)("span",{className:"align-middle ml-50",children:"Download Table"})]}),Object(N.jsxs)(H.a,{right:!0,children:[Object(N.jsxs)(W.a,{className:"w-100",onClick:function(){return r(c)},children:[Object(N.jsx)(L.a,{size:15}),Object(N.jsx)("span",{className:"align-middle ml-50",children:"CSV"})]}),Object(N.jsxs)(W.a,{className:"w-100",onClick:function(){return l()},children:[Object(N.jsx)(L.a,{size:15}),Object(N.jsx)("span",{className:"align-middle ml-50",children:"PDF"})]})]})]})})]})})}),F=function(){var e,t=Object(d.b)(),a=Object(d.c)((function(e){return e.appiaClaimedRewards})),r=Object(s.useState)(""),c=Object(n.a)(r,2),i=c[0],o=c[1],u=Object(s.useState)(1),j=Object(n.a)(u,2),b=j[0],m=j[1],f=Object(s.useState)(10),O=Object(n.a)(f,2),h=O[0],v=O[1];Object(s.useEffect)((function(){t(Object(l.e)(a.selectedClaim.reward_id)),t(Object(l.d)(null===a||void 0===a?void 0:a.selectedUserClaimedHistory,{page:b,perPage:h,q:i}))}),[t]);var x=null===a||void 0===a||null===(e=a.selectedUserClaimedHistory)||void 0===e?void 0:e.filter((function(e){var t,a,n,s,r,c;return(null===e||void 0===e||null===(t=e.names)||void 0===t?void 0:t.toLowerCase())||(null===e||void 0===e||null===(a=e.email)||void 0===a?void 0:a.toLowerCase())||(null===e||void 0===e||null===(n=e.username)||void 0===n?void 0:n.toLowerCase())||(null===e||void 0===e||null===(s=e.user_id)||void 0===s?void 0:s.toLowerCase())||(null===e||void 0===e||null===(r=e.phone)||void 0===r||null===(c=r.toString())||void 0===c?void 0:c.toLowerCase())}));return Object(N.jsx)("div",{className:"invoice-list-wrapper",children:Object(N.jsx)(p.a,{children:Object(N.jsx)("div",{className:"invoice-list-dataTable",children:Object(N.jsx)(S.a,{noHeader:!0,pagination:!0,paginationServer:!0,subHeader:!0,columns:C,responsive:!0,sortIcon:Object(N.jsx)(T.a,{}),className:"react-dataTable",defaultSortField:"invoiceId",paginationDefaultPage:b,paginationComponent:function(){var e=null===Math||void 0===Math?void 0:Math.ceil((null===x||void 0===x?void 0:x.length)/h);return Object(N.jsx)(_.a,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:0!==b?b-1:0,onPageChange:function(e){return function(e){t(Object(l.d)(null===a||void 0===a?void 0:a.selectedUserClaimedHistory,{page:e.selected+1,perPage:h,q:i})),m(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e,t,n,s={q:i},r=Object.keys(s).some((function(e){return s[e].length>0}));return(null===a||void 0===a||null===(e=a.selectedUserClaimHistory)||void 0===e?void 0:e.length)>0?null===a||void 0===a?void 0:a.selectedUserClaimHistory:0===(null===a||void 0===a||null===(t=a.selectedUserClaimHistory)||void 0===t?void 0:t.length)&&r?[]:null===a||void 0===a||null===(n=a.selectedUserClaimedHistory)||void 0===n?void 0:n.slice(0,h)}(),subHeaderComponent:Object(N.jsx)(q,{rowsPerPage:h,handleFilter:function(e){o(e),t(Object(l.d)(null===a||void 0===a?void 0:a.selectedUserClaimedHistory,{page:b,perPage:h,q:e}))},handlePerPage:function(e){var n=parseInt(e.currentTarget.value);t(Object(l.d)(null===a||void 0===a?void 0:a.selectedUserClaimedHistory,{page:b,perPage:n,q:i})),v(n)},downloadCSV:function(e){var t=document.createElement("a"),n=function(e){var t,n=Object.keys(a.selectedUserClaimedHistory[0]);return console.log("keyss",n),t="",t+=n.join(","),t+="\n",e.forEach((function(e){var a=0;n.forEach((function(n){a>0&&(t+=","),t+=e[n],a++})),t+="\n",console.log("esults",t)})),t}(e);if(null!==n){n.match(/^data:text\/csv/i)||(n="data:text/csv;charset=utf-8,".concat(n)),t.setAttribute("href",encodeURI(n)),t.setAttribute("download","export.csv"),t.click()}},storeData:a.selectedUserAllTransactions,downloadPDF:function(){var e=new R.default({orientation:"landscape"});e.autoTable({styles:{halign:"center"},columnStyles:{0:{cellWidth:30},1:{cellWidth:70},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:60}},head:[["Id","Type","Amount","Balance","Date"]]}),a.selectedUserClaimedHistory.map((function(t){e.autoTable({styles:{halign:"left"},columnStyles:{0:{cellWidth:40},1:{cellWidth:70},2:{cellWidth:70},3:{cellWidth:30},4:{cellWidth:100}},body:[[t.trans_id,t.trans_type,t.trans_amount,t.balance,t.trans_date]]})})),e.save("export.pdf")}})})})})})};a(506),t.default=function(e){var t=Object(d.c)((function(e){return e.appiaClaimedRewards})),a=Object(d.b)(),i=Object(r.i)().id,o=Object(s.useState)(null),p=Object(n.a)(o,2),f=(p[0],p[1]);Object(s.useEffect)((function(){null!==Object(u.g)()&&f(JSON.parse(localStorage.getItem("userData")))}),[]);var O=t.selectedClaim.reward_id;return Object(s.useEffect)((function(){a(Object(l.e)(O))}),[a]),null!==t.selectedClaim&&void 0!==t.selectedClaim?Object(N.jsxs)("div",{className:"app-user-view",children:[Object(N.jsx)(j.a,{children:Object(N.jsx)(b.a,{xl:"12",lg:"12",md:"12",children:Object(N.jsx)(y,{selectedClaim:t.selectedClaim})})}),Object(N.jsx)(j.a,{children:Object(N.jsx)(b.a,{sm:"12",children:Object(N.jsx)(F,{reward_id:O})})})]}):Object(N.jsxs)(m.a,{color:"danger",children:[Object(N.jsx)("h4",{className:"alert-heading",children:"Users not found"}),Object(N.jsxs)("div",{className:"alert-body",children:["Users with id: ",i," doesn't exist. Check list of all Users: ",Object(N.jsx)(c.b,{to:"/app/user/list",children:"Users List"})]})]})}},505:function(e,t,a){"use strict";var n=a(14),s=a(15),r=a(1),c=a.n(r),l=a(2),i=a.n(l),o=a(29),d=a.n(o),u=a(87),j={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,a=e.cssModule,r=e.tag,l=Object(s.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(t,"card-text"),a);return c.a.createElement(r,Object(n.a)({},l,{className:i}))};b.propTypes=j,b.defaultProps={tag:"p"},t.a=b},506:function(e,t,a){},510:function(e,t,a){},515:function(e,t,a){"use strict";var n=a(14),s=a(1),r=a.n(s),c=a(2),l=a.n(c),i=a(531),o={children:l.a.node},d=function(e){return r.a.createElement(i.a,Object(n.a)({group:!0},e))};d.propTypes=o,t.a=d},527:function(e,t,a){"use strict";var n=a(14),s=a(15),r=a(501),c=a(1),l=a.n(c),i=a(2),o=a.n(i),d=a(29),u=a.n(d),j=a(87),b=a(513);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={children:o.a.node,className:o.a.string,closeClassName:o.a.string,closeAriaLabel:o.a.string,cssModule:o.a.object,color:o.a.string,fade:o.a.bool,isOpen:o.a.bool,toggle:o.a.func,tag:j.tagPropType,transition:o.a.shape(b.a.propTypes),innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},O={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:p(p({},b.a.defaultProps),{},{unmountOnExit:!0})};function h(e){var t=e.className,a=e.closeClassName,r=e.closeAriaLabel,c=e.cssModule,i=e.tag,o=e.color,d=e.isOpen,m=e.toggle,f=e.children,O=e.transition,h=e.fade,v=e.innerRef,x=Object(s.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),g=Object(j.mapToCssModules)(u()(t,"alert","alert-"+o,{"alert-dismissible":m}),c),w=Object(j.mapToCssModules)(u()("close",a),c),N=p(p(p({},b.a.defaultProps),O),{},{baseClass:h?O.baseClass:"",timeout:h?O.timeout:0});return l.a.createElement(b.a,Object(n.a)({},x,N,{tag:i,className:g,in:d,role:"alert",innerRef:v}),m?l.a.createElement("button",{type:"button",className:w,"aria-label":r,onClick:m},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,f)}h.propTypes=f,h.defaultProps=O,t.a=h},538:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(501),s=a(14),r=a(132),c=a(64),l=a(1),i=a.n(l),o=a(2),d=a.n(o),u=a(515),j=a(87);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var m=["defaultOpen"],p=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},a.toggle=a.toggle.bind(Object(r.a)(a)),a}Object(c.a)(t,e);var a=t.prototype;return a.toggle=function(){this.setState({isOpen:!this.state.isOpen})},a.render=function(){return i.a.createElement(u.a,Object(s.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(j.omit)(this.props,m)))},t}(l.Component);p.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({defaultOpen:d.a.bool},u.a.propTypes)},560:function(e,t,a){},754:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return u}));var n=a(22),s=a.n(n),r=a(47),c=a(131),l=(a(805),function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)({url:"/admin/rewards/claims",method:"POST"},t);case 2:if(!(a=e.sent)){e.next=12;break}if(!a.data.data||!a.data.success){e.next=9;break}return e.next=7,t({type:"GET_ALL_CLAIMED_REWARDS",data:a.data.data});case 7:e.next=10;break;case 9:console.log(a.error);case 10:e.next=13;break;case 12:Object(c.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),i=function(e,t){return function(){var a=Object(r.a)(s.a.mark((function a(n){var r,l,i,o,d,u,j,b,m,p;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=t.q,l=void 0===r?"":r,i=t.perPage,o=void 0===i?10:i,d=t.page,u=void 0===d?1:d,j=t.role,void 0===j?null:j,b=t.category,void 0===b?null:b,m=l.toLowerCase(),p=e.filter((function(e){return e.user_id.toLowerCase().includes(m)||e.names.toLowerCase().includes(m)||e.email.toLowerCase().includes(m)||e.username.toLowerCase().includes(m)||e.phone.toString().toLowerCase().includes(m)})),n({type:"GET_FILTERED_CLAIMED_DATA",data:Object(c.i)(p,o,u),totalPages:p.length,params:t});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},o=function(e,t){return function(){var a=Object(r.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.find((function(e){return e.id===t})),n({type:"GET_CLAIM",selectedClaim:r});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)({url:"/admin/rewards/claims/".concat(e),method:"GET"},a);case 2:if(!(n=t.sent)){t.next=12;break}if(!n.data.data||!n.data.success){t.next=9;break}return t.next=7,a({type:"GET_USER_CLAIM_HISTORYS",data:n.data.data});case 7:t.next=10;break;case 9:console.log(n.error);case 10:t.next=13;break;case 12:Object(c.l)("Oops!","Something went wrong with your network.","error");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e,t){return function(){var a=Object(r.a)(s.a.mark((function a(n){var r,l,i,o,d,u,j,b;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.q,l=void 0===r?"":r,i=t.perPage,o=void 0===i?10:i,d=t.page,u=void 0===d?1:d,j=null===l||void 0===l?void 0:l.toLowerCase(),b=null===e||void 0===e?void 0:e.filter((function(e){var t,a,n,s,r,c,l,i;return(null===e||void 0===e||null===(t=e.names)||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(j))||(null===e||void 0===e||null===(n=e.email)||void 0===n||null===(s=n.toLowerCase())||void 0===s?void 0:s.includes(j))||(null===e||void 0===e||null===(r=e.username)||void 0===r||null===(c=r.toLowerCase())||void 0===c?void 0:c.includes(j))||(null===e||void 0===e||null===(l=e.user_id)||void 0===l||null===(i=l.toLowerCase())||void 0===i?void 0:i.includes(j))})),a.next=5,n({type:"GET_USER_CLAIM",data:Object(c.i)(b,o,u),totalPages:null===b||void 0===b?void 0:b.length,params:t});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=117.1fe08189.chunk.js.map