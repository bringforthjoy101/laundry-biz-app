(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[148],{2265:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(1),c=a(495),o=(a(497),a(753)),l=a(509),i=a.n(l),s=a(19),u=a(6),d=[{name:"Product Id",minWidth:"160px",selector:"product_id",sortable:!0,cell:function(e){return Object(u.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object(u.jsx)("div",{className:"d-flex flex-column",children:Object(u.jsx)(c.b,{to:"/appia/dataPlans/view/".concat(e.id),className:"user-name text-truncate mb-0",onClick:function(){return s.a.dispatch(Object(o.c)(s.a.getState().appiaDataPlans.allData,e.id))},children:Object(u.jsx)("span",{className:"font-weight-bold",children:e.product_id})})})})}},{name:"Price",minWidth:"138px",selector:"price",sortable:!0,cell:function(e){return e.price}},{name:"Network",minWidth:"172px",selector:"network",sortable:!0,cell:function(e){return e.network}},{name:"Category",minWidth:"172px",selector:"category",sortable:!0,cell:function(e){return e.category}},{name:"Date",minWidth:"200px",selector:"created_at",sortable:!0,cell:function(e){return i()(e.created_at).format("lll")}}],p=a(0),f=a(22),b=a.n(f),j=a(47),g=a(528),h=a(88),m=a(131),O=a(1028),y=a(518),v=a(892),x=a(491),w=a(535),N=function(e){var t=e.open,a=e.toggleSidebar,c=Object(h.b)(),l=Object(r.useState)({network:"",category:"",price:"",allowance:"",product_id:""}),i=Object(n.a)(l,2),s=i[0],d=i[1],f=function(){var e=Object(j.a)(b.a.mark((function e(t,n){var r,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||t.preventDefault(),!n||n.length){e.next=13;break}return r=JSON.stringify(s),e.prev=3,e.next=6,Object(m.a)({url:"/admin/rewards/data-plan/create",method:"POST",body:r},c);case 6:(l=e.sent)?l.data.success?(Object(m.l)("Great job!",l.data.message,"success"),c(Object(o.a)()),a()):Object(m.l)("Oops!",l.data.message,"error"):Object(m.l)("Oops!","Something went wrong with your network.","error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error({error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f(),c(Object(o.a)())}),[c]),Object(u.jsx)(g.a,{size:"lg",open:t,title:"New Data Plan",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:a,children:Object(u.jsxs)(w.AvForm,{onSubmit:f,children:[Object(u.jsxs)(O.a,{children:[Object(u.jsx)(y.a,{for:"network",children:"Network"}),Object(u.jsx)(w.AvInput,{name:"network",id:"network",placeholder:"MTN",value:s.network,onChange:function(e){return d(Object(p.a)(Object(p.a)({},s),{},{network:e.target.value}))},required:!0})]}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(y.a,{for:"category",children:"Category"}),Object(u.jsxs)(w.AvInput,{type:"select",id:"category",name:"category",value:s.category,onChange:function(e){return d(Object(p.a)(Object(p.a)({},s),{},{category:e.target.value}))},required:!0,children:[Object(u.jsx)("option",{value:"",children:"Select Option"}),Object(u.jsx)("option",{value:"daily",children:"Daily"}),Object(u.jsx)("option",{value:"weekly",children:"Weekly"}),Object(u.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(y.a,{for:"price",children:"Price"}),Object(u.jsx)(w.AvInput,{type:"price",name:"price",id:"price",placeholder:"1000",value:s.price,onChange:function(e){return d(Object(p.a)(Object(p.a)({},s),{},{price:e.target.value}))},required:!0}),Object(u.jsx)(v.a,{color:"muted",children:"You can use letters, numbers & periods"})]}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(y.a,{for:"allowance",children:"Allowance"}),Object(u.jsx)(w.AvInput,{name:"allowance",id:"allowance",placeholder:"1.5GB",value:s.allowance,onChange:function(e){return d(Object(p.a)(Object(p.a)({},s),{},{allowance:e.target.value}))},required:!0})]}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(y.a,{for:"validity",children:"Validity"}),Object(u.jsx)(w.AvInput,{name:"validity",id:"validity",placeholder:"30Days",value:s.validity,onChange:function(e){return d(Object(p.a)(Object(p.a)({},s),{},{validity:e.target.value}))},required:!0})]}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(y.a,{for:"product_id",children:"Product Id"}),Object(u.jsx)(w.AvInput,{name:"product_id",id:"product_id",placeholder:"MT2",value:s.product_id,onChange:function(e){return d(Object(p.a)(Object(p.a)({},s),{},{product_id:e.target.value}))},required:!0})]}),Object(u.jsx)(x.a,{type:"submit",className:"mr-1",color:"primary",children:"Submit"}),Object(u.jsx)(x.a,{type:"reset",color:"secondary",outline:!0,onClick:a,children:"Cancel"})]})})},C=a(522),k=a(511),E=a.n(k),P=a(1080),S=a(517),T=a.n(S),A=a(502),D=a(503),L=a(1025),_=a(504),M=a(500),I=a(499),q=a(498),W=a(1046),F=(a(525),a(510),a(529)),G=a.n(F),R=function(e){var t=e.toggleSidebar,a=e.handlePerPage,n=e.rowsPerPage;e.userData;return Object(u.jsx)("div",{className:"invoice-list-table-header w-100 mr-1 ml-50 mt-2 mb-75",children:Object(u.jsxs)(A.a,{children:[Object(u.jsx)(D.a,{xl:"6",className:"d-flex align-items-center p-0",children:Object(u.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(u.jsx)(y.a,{for:"rows-per-page",children:"Show"}),Object(u.jsxs)(L.a,{className:"form-control mx-50",type:"select",id:"rows-per-page",value:n,onChange:a,style:{width:"10rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0"},children:[Object(u.jsx)("option",{value:"10",children:"10"}),Object(u.jsx)("option",{value:"25",children:"25"}),Object(u.jsx)("option",{value:"50",children:"50"})]}),Object(u.jsx)(y.a,{for:"rows-per-page",children:"Entries"})]})}),Object(u.jsx)(D.a,{xl:"6",className:"d-flex align-items-sm-center justify-content-lg-end justify-content-start flex-lg-nowrap flex-wrap flex-sm-row flex-column pr-lg-1 p-0 mt-lg-0 mt-1",children:Object(u.jsx)(x.a.Ripple,{color:"primary",onClick:t,children:"Create Data PLan"})})]})})},$=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.appiaDataPlans})),a=Object(r.useState)(""),c=Object(n.a)(a,2),l=c[0],i=c[1],s=Object(r.useState)(1),p=Object(n.a)(s,2),f=p[0],b=p[1],j=Object(r.useState)(10),g=Object(n.a)(j,2),O=g[0],v=g[1],x=Object(r.useState)(!1),w=Object(n.a)(x,2),k=w[0],S=w[1],L=Object(r.useState)({value:"",label:"Select category"}),F=Object(n.a)(L,2),$=F[0],B=F[1],z=Object(r.useState)(null),J=Object(n.a)(z,2),U=(J[0],J[1]),H=function(){return S(!k)};Object(r.useEffect)((function(){e(Object(o.a)()),e(Object(o.b)(t.allData,{page:f,perPage:O,category:$.value,q:l}))}),[e]),Object(r.useEffect)((function(){null!==Object(m.g)()&&U(JSON.parse(localStorage.getItem("userData")))}),[]);var V=function(a){i(a),e(Object(o.b)(t.allData,{page:f,perPage:O,category:$.value,q:a}))},K=t.allData.filter((function(e){return e.network.toLowerCase()||e.validity.toLowerCase()||e.category||e.product_id}));return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)(_.a,{children:[Object(u.jsx)(M.a,{children:Object(u.jsx)(I.a,{tag:"h4",children:"Search Filter"})}),Object(u.jsx)(q.a,{children:Object(u.jsxs)(A.a,{children:[Object(u.jsx)(D.a,{lg:"4",md:"6",children:Object(u.jsxs)(G.a,{children:[Object(u.jsx)(y.a,{for:"select",children:"Select Status:"}),Object(u.jsx)(C.a,{theme:m.j,isClearable:!1,className:"react-select",classNamePrefix:"select",id:"select",options:[{value:"",label:"Select category"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],value:$,onChange:function(a){B(a),e(Object(o.b)(t.allData,{page:f,perPage:O,category:a.value,q:l}))}})]})}),Object(u.jsx)(D.a,{lg:"4",md:"6",children:Object(u.jsxs)(G.a,{children:[Object(u.jsx)(y.a,{for:"search-invoice",children:" Search:"}),Object(u.jsx)(W.a,{id:"search-invoice",type:"text",value:l,placeholder:"Search Id, Network and Category",onChange:function(e){return V(e.target.value)}})]})})]})})]}),Object(u.jsx)(_.a,{children:Object(u.jsx)(T.a,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:d,sortIcon:Object(u.jsx)(P.a,{}),className:"react-dataTable",paginationComponent:function(){var a=Math.ceil(K.length/O);return Object(u.jsx)(E.a,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:0!==f?f-1:0,onPageChange:function(a){return function(a){e(Object(o.b)(t.allData,{page:a.selected+1,perPage:O,category:$.value,q:l})),b(a.selected+1)}(a)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e={category:$.value,q:l},a=Object.keys(e).some((function(t){return e[t].length>0}));return t.data.length>0?t.data:0===t.data.length&&a?[]:t.allData.slice(0,O)}(),subHeaderComponent:Object(u.jsx)(R,{toggleSidebar:H,handlePerPage:function(a){var n=parseInt(a.currentTarget.value);e(Object(o.b)(t.allData,{page:f,perPage:n,category:$.value,q:l})),v(n)},rowsPerPage:O,searchTerm:l,handleFilter:V})})}),Object(u.jsx)(N,{open:k,toggleSidebar:H})]})};a(506),t.default=function(){return Object(u.jsx)("div",{className:"app-user-list",children:Object(u.jsx)($,{})})}},506:function(e,t,a){},510:function(e,t,a){},523:function(e,t,a){"use strict";var n=a(519);t.__esModule=!0,t.getScrollbarWidth=o,t.setScrollbarWidth=l,t.isBodyOverflowing=i,t.getOriginalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)},t.conditionallyUpdateScrollbar=function(){var e=o(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],a=t?parseInt(t.style.paddingRight||0,10):0;i()&&l(a+e)},t.setGlobalCssModule=function(e){r=e},t.mapToCssModules=function(e,t){void 0===e&&(e="");void 0===t&&(t=r);return t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e},t.omit=function(e,t){var a={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(a[n]=e[n])})),a},t.pick=function(e,t){var a,n=Array.isArray(t)?t:[t],r=n.length,c={};for(;r>0;)a=n[r-=1],c[a]=e[a];return c},t.warnOnce=u,t.deprecated=function(e,t){return function(a,n,r){null!==a[n]&&"undefined"!==typeof a[n]&&u('"'+n+'" property of "'+r+'" has been deprecated.\n'+t);for(var c=arguments.length,o=new Array(c>3?c-3:0),l=3;l<c;l++)o[l-3]=arguments[l];return e.apply(void 0,[a,n,r].concat(o))}},t.DOMElement=p,t.isReactRefObj=g,t.toNumber=function(e){var t=typeof e;if("number"===t)return e;if("symbol"===t||"object"===t&&"[object Symbol]"===h(e))return NaN;if(m(e)){var a="function"===typeof e.valueOf?e.valueOf():e;e=m(a)?""+a:a}if("string"!==t)return 0===e?e:+e;e=e.replace(/^\s+|\s+$/g,"");var n=/^0b[01]+$/i.test(e);return n||/^0o[0-7]+$/i.test(e)?parseInt(e.slice(2),n?2:8):/^[-+]0x[0-9a-f]+$/i.test(e)?NaN:+e},t.isObject=m,t.isFunction=O,t.findDOMElements=y,t.isArrayOrNodeList=v,t.getTarget=function(e,t){var a=y(e);return t?v(a)?a:null===a?[]:[a]:v(a)?a[0]:a},t.addMultipleEventListeners=function(e,t,a,n){var r=e;v(r)||(r=[r]);var c=a;"string"===typeof c&&(c=c.split(/\s+/));if(!v(r)||"function"!==typeof t||!Array.isArray(c))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(c,(function(e){Array.prototype.forEach.call(r,(function(a){a.addEventListener(e,t,n)}))})),function(){Array.prototype.forEach.call(c,(function(e){Array.prototype.forEach.call(r,(function(a){a.removeEventListener(e,t,n)}))}))}},t.focusableElements=t.defaultToggleEvents=t.canUseDOM=t.PopperPlacements=t.keyCodes=t.TransitionStatuses=t.TransitionPropTypeKeys=t.TransitionTimeouts=t.tagPropType=t.targetPropType=void 0;var r,c=n(a(2));function o(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function l(e){document.body.style.paddingRight=e>0?e+"px":null}function i(){return document.body.clientWidth<window.innerWidth}var s={};function u(e){s[e]||("undefined"!==typeof console&&console.error(e),s[e]=!0)}var d="object"===typeof window&&window.Element||function(){};function p(e,t,a){if(!(e[t]instanceof d))return new Error("Invalid prop `"+t+"` supplied to `"+a+"`. Expected prop to be an instance of Element. Validation failed.")}var f=c.default.oneOfType([c.default.string,c.default.func,p,c.default.shape({current:c.default.any})]);t.targetPropType=f;var b=c.default.oneOfType([c.default.func,c.default.string,c.default.shape({$$typeof:c.default.symbol,render:c.default.func}),c.default.arrayOf(c.default.oneOfType([c.default.func,c.default.string,c.default.shape({$$typeof:c.default.symbol,render:c.default.func})]))]);t.tagPropType=b;t.TransitionTimeouts={Fade:150,Collapse:350,Modal:300,Carousel:600};t.TransitionPropTypeKeys=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];t.TransitionStatuses={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"};t.keyCodes={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80};t.PopperPlacements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];var j=!("undefined"===typeof window||!window.document||!window.document.createElement);function g(e){return!(!e||"object"!==typeof e)&&"current"in e}function h(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function m(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function O(e){if(!m(e))return!1;var t=h(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}function y(e){if(g(e))return e.current;if(O(e))return e();if("string"===typeof e&&j){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function v(e){return null!==e&&(Array.isArray(e)||j&&"number"===typeof e.length)}t.canUseDOM=j;t.defaultToggleEvents=["touchstart","click"];t.focusableElements=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},528:function(e,t,a){"use strict";var n=a(0),r=a(65),c=a(133),o=a(1027),l=a(29),i=a.n(l),s=a(552),u=a(559),d=a(548),p=a(6),f=["width","open","toggleSidebar","size","bodyClassName","contentClassName","wrapperClassName","headerClassName","className","title","children","closeBtn"];t.a=function(e){var t,a=e.width,l=e.open,b=e.toggleSidebar,j=e.size,g=e.bodyClassName,h=e.contentClassName,m=e.wrapperClassName,O=e.headerClassName,y=e.className,v=e.title,x=e.children,w=e.closeBtn,N=Object(c.a)(e,f),C=w||Object(p.jsx)(o.a,{className:"cursor-pointer",size:15,onClick:b});return Object(p.jsxs)(s.a,Object(n.a)(Object(n.a)(Object(n.a)({isOpen:l,toggle:b,contentClassName:i()(Object(r.a)({},h,h)),modalClassName:i()("modal-slide-in",Object(r.a)({},m,m)),className:i()((t={},Object(r.a)(t,y,y),Object(r.a)(t,"sidebar-lg","lg"===j),Object(r.a)(t,"sidebar-sm","sm"===j),t))},void 0!==a?{style:{width:String(a)+"px"}}:{}),N),{},{children:[Object(p.jsx)(u.a,{className:i()(Object(r.a)({},O,O)),toggle:b,close:C,tag:"div",children:Object(p.jsx)("h5",{className:"modal-title",children:Object(p.jsx)("span",{className:"align-middle",children:v})})}),Object(p.jsx)(d.a,{className:i()("flex-grow-1",Object(r.a)({},g,g)),children:x})]}))}},529:function(e,t,a){"use strict";var n=a(519);t.__esModule=!0,t.default=void 0;var r=n(a(546)),c=n(a(547)),o=n(a(1)),l=n(a(2)),i=n(a(29)),s=a(523),u={children:l.default.node,row:l.default.bool,check:l.default.bool,inline:l.default.bool,disabled:l.default.bool,tag:s.tagPropType,className:l.default.string,cssModule:l.default.object},d=function(e){var t=e.className,a=e.cssModule,n=e.row,l=e.disabled,u=e.check,d=e.inline,p=e.tag,f=(0,c.default)(e,["className","cssModule","row","disabled","check","inline","tag"]),b=(0,s.mapToCssModules)((0,i.default)(t,!!n&&"row",u?"form-check":"form-group",!(!u||!d)&&"form-check-inline",!(!u||!l)&&"disabled"),a);return"fieldset"===p&&(f.disabled=l),o.default.createElement(p,(0,r.default)({},f,{className:b}))};d.propTypes=u,d.defaultProps={tag:"div"};var p=d;t.default=p},753:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s}));var n=a(22),r=a.n(n),c=a(47),o=a(131),l=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)({url:"/admin/rewards/data-plans/get",method:"GET"},t);case 2:if(!(a=e.sent)){e.next=12;break}if(!a.data.data||!a.data.success){e.next=9;break}return e.next=7,t({type:"GET_ALL_DATA_PLANS",data:a.data.data});case 7:e.next=10;break;case 9:console.log(a.error);case 10:e.next=13;break;case 12:Object(o.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,l,i,s,u,d,p,f,b,j,g;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=t.q,l=void 0===c?"":c,i=t.perPage,s=void 0===i?10:i,u=t.page,d=void 0===u?1:u,p=t.role,void 0===p?null:p,f=t.category,b=void 0===f?null:f,j=l.toLowerCase(),g=e.filter((function(e){return(e.network.toLowerCase().includes(j)||e.category.toLowerCase().includes(j)||e.validity.toLowerCase().includes(j)||e.product_id.toLowerCase().includes(j))&&e.category===(b||e.category)})),n({type:"GET_FILTERED_DATA_PLANS",data:Object(o.i)(g,s,d),totalPages:g.length,params:t});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},s=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=e.find((function(e){return e.id===t})),n({type:"GET_PLAN",selectedPlan:c});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=148.a95bdb5f.chunk.js.map