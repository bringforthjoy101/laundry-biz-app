(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[31],{2303:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n(1),o=n(495),c=n(497),s=n(509),i=n.n(s),l=n(1034),u=n(6),d=function(e){var t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return e.avatar?Object(u.jsx)(c.a,{className:"mr-1",img:e.avatar,width:"32",height:"32"}):Object(u.jsx)(c.a,{color:t||"primary",className:"mr-1",content:"".concat(e.trans_id)||"John Doe",initials:!0})},f={pending:"light-warning",success:"light-success",failed:"light-danger"},p=[{name:"Transaction Id",minWidth:"200px",selector:"transactionId",sortable:!0,cell:function(e){return e.transactionId}},{name:"Student",minWidth:"297px",selector:"student",sortable:!0,cell:function(e){return Object(u.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[d(e.student),Object(u.jsx)("div",{className:"d-flex flex-column",children:Object(u.jsx)(o.b,{to:"/student/view/".concat(e.studentId),className:"user-name text-truncate mb-0",children:Object(u.jsxs)("span",{className:"font-weight-bold",children:[e.student.firstName," ",e.student.lastName]})})})]})}},{name:"Amount",minWidth:"150px",selector:"amount",sortable:!0,cell:function(e){return Object(u.jsx)("span",{children:(e.amount||0).toLocaleString("en-US",{style:"currency",currency:"NGN"})})}},{name:"Balance",minWidth:"150px",selector:"balance",sortable:!0,cell:function(e){var t;return Object(u.jsx)("span",{className:"text-capitalize",children:null===e||void 0===e||null===(t=e.balance)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"NGN"})})}},{name:"Status",minWidth:"138px",selector:"status",sortable:!0,cell:function(e){return Object(u.jsx)(l.a,{className:"text-capitalize",color:f[e.status],pill:!0,children:e.status})}},{name:"Transaction Date",minWidth:"250px",selector:"createdAt",sortable:!0,cell:function(e){return i()(e.createdAt).format("lll")}}],b=n(984),m=n(88),g=n(511),j=n.n(g),h=n(1165),v=n(1113),O=n(1157),y=n(1080),x=n(517),N=n.n(x),w=(n(131),n(504)),T=n(500),E=n(499),C=n(498),P=n(502),S=n(503),k=n(518),A=n(1046),M=n(1025),D=n(538),L=n(1372),I=n(1041),W=n(1042),R=(n(525),n(510),n(536)),_=(n(541),n(529)),G=n.n(_),q=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.transactions})),n=Object(r.useState)(""),o=Object(a.a)(n,2),c=o[0],s=o[1],l=Object(r.useState)(1),d=Object(a.a)(l,2),f=d[0],g=d[1],x=Object(r.useState)(10),_=Object(a.a)(x,2),q=_[0],F=_[1];Object(r.useEffect)((function(){e(Object(b.a)()),e(Object(b.b)(t.allData,{page:f,perPage:q,q:c}))}),[e]);var U=t.allData.filter((function(e){var t,n,a;return(null===(t=e.transactionId)||void 0===t?void 0:t.toLowerCase())||(null===(n=e.student.firstName)||void 0===n?void 0:n.toLowerCase())||(null===(a=i()(e.createdAt).format("lll"))||void 0===a?void 0:a.toLowerCase())}));function $(e){var n=document.createElement("a"),a=function(e){var n,a=Object.keys(t.allData[0]);return console.log("keyss",a),n="",n+=a.join(","),n+="\n",e.forEach((function(e){var t=0;a.forEach((function(a){t>0&&(n+=","),n+=e[a],t++})),n+="\n",console.log("esults",n)})),n}(e);if(null!==a){a.match(/^data:text\/csv/i)||(a="data:text/csv;charset=utf-8,".concat(a)),n.setAttribute("href",encodeURI(a)),n.setAttribute("download","export.csv"),n.click()}}return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)(w.a,{children:[Object(u.jsx)(T.a,{children:Object(u.jsx)(E.a,{tag:"h4",children:"Search Filter"})}),Object(u.jsx)(C.a,{children:Object(u.jsx)(P.a,{form:!0,className:"mt-1 mb-50",children:Object(u.jsx)(S.a,{lg:"4",md:"6",children:Object(u.jsxs)(G.a,{children:[Object(u.jsx)(k.a,{for:"select",children:"Select Table:"}),Object(u.jsx)(A.a,{id:"search-invoice",className:"ml-50 w-100",type:"text",value:c,placeholder:"Search",onChange:function(n){return a=n.target.value,s(a),void e(Object(b.b)(t.allData,{page:f,perPage:q,q:a}));var a}})]})})})})]}),Object(u.jsxs)(w.a,{children:[Object(u.jsxs)(P.a,{className:"mx-0 mt-3",children:[Object(u.jsx)(S.a,{xl:"6",sm:"12",className:"d-flex align-items-center pl-3",children:Object(u.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(u.jsx)(k.a,{for:"rows-per-page",children:"Show"}),Object(u.jsxs)(M.a,{className:"form-control mx-50",type:"select",id:"rows-per-page",value:q,onChange:function(n){var a=parseInt(n.currentTarget.value);e(Object(b.b)(t.allData,{page:f,perPage:a,q:c})),F(a)},style:{width:"10rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0"},children:[Object(u.jsx)("option",{value:"10",children:"10"}),Object(u.jsx)("option",{value:"25",children:"25"}),Object(u.jsx)("option",{value:"50",children:"50"})]}),Object(u.jsx)(k.a,{for:"rows-per-page",children:"Entries"})]})}),Object(u.jsx)(S.a,{xl:"6",sm:"12",className:"d-flex align-items-sm-center justify-content-lg-end justify-content-center pr-lg-3 p-0 mt-lg-0 mt-1",children:Object(u.jsxs)(D.a,{children:[Object(u.jsxs)(L.a,{className:"mr-lg-0 mr-5",color:"secondary",caret:!0,outline:!0,children:[Object(u.jsx)(h.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-lg-50",children:"Download Table"})]}),Object(u.jsxs)(I.a,{right:!0,children:[Object(u.jsxs)(W.a,{className:"w-100",onClick:function(){return $(t.allData)},children:[Object(u.jsx)(v.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-50",children:"CSV"})]}),Object(u.jsxs)(W.a,{className:"w-100",onClick:function(){return function(){var e=new R.default({orientation:"landscape"});e.autoTable({styles:{halign:"center"},head:[["User","Email","Balance","Naira Wallet","Status"]]}),t.allData.map((function(t){e.autoTable({styles:{halign:"left"},columnStyles:{0:{cellWidth:40},1:{cellWidth:70},2:{cellWidth:70},3:{cellWidth:60},4:{cellWidth:30}},body:[[t.names,t.email,t.balance,t.naira_wallet,t.status]]})})),e.save("export.pdf")}()},children:[Object(u.jsx)(v.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-50",children:"PDF"})]}),Object(u.jsxs)(W.a,{className:"w-100",onClick:function(){return printOrder(U)},children:[Object(u.jsx)(O.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-50",children:"Print"})]})]})]})})]}),Object(u.jsx)(N.a,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:p,sortIcon:Object(u.jsx)(y.a,{}),className:"react-dataTable",paginationComponent:function(){var n=Math.ceil(U.length/q);return Object(u.jsx)(j.a,{previousLabel:"",nextLabel:"",pageCount:n||1,activeClassName:"active",forcePage:0!==f?f-1:0,onPageChange:function(n){return function(n){e(Object(b.b)(t.allData,{page:n.selected+1,perPage:q,q:c})),g(n.selected+1)}(n)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e={q:c},n=Object.keys(e).some((function(t){return e[t].length>0}));return t.data.length>0?t.data:0===t.data.length&&n?[]:t.allData.slice(0,q)}()})]})]})};n(506),t.default=function(){return Object(u.jsx)("div",{className:"app-user-list",children:Object(u.jsx)(q,{})})}},498:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(1),c=n.n(o),s=n(2),i=n.n(s),l=n(29),u=n.n(l),d=n(87),f={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},p=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,s=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(u()(t,"card-body"),n);return c.a.createElement(s,Object(a.a)({},i,{className:l,ref:o}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},499:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(1),c=n.n(o),s=n(2),i=n.n(s),l=n(29),u=n.n(l),d=n(87),f={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-title"),n);return c.a.createElement(o,Object(a.a)({},s,{className:i}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},500:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(1),c=n.n(o),s=n(2),i=n.n(s),l=n(29),u=n.n(l),d=n(87),f={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-header"),n);return c.a.createElement(o,Object(a.a)({},s,{className:i}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},506:function(e,t,n){},510:function(e,t,n){},515:function(e,t,n){"use strict";var a=n(14),r=n(1),o=n.n(r),c=n(2),s=n.n(c),i=n(531),l={children:s.a.node},u=function(e){return o.a.createElement(i.a,Object(a.a)({group:!0},e))};u.propTypes=l,t.a=u},523:function(e,t,n){"use strict";var a=n(519);t.__esModule=!0,t.getScrollbarWidth=c,t.setScrollbarWidth=s,t.isBodyOverflowing=i,t.getOriginalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)},t.conditionallyUpdateScrollbar=function(){var e=c(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;i()&&s(n+e)},t.setGlobalCssModule=function(e){r=e},t.mapToCssModules=function(e,t){void 0===e&&(e="");void 0===t&&(t=r);return t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(a){-1===t.indexOf(a)&&(n[a]=e[a])})),n},t.pick=function(e,t){var n,a=Array.isArray(t)?t:[t],r=a.length,o={};for(;r>0;)n=a[r-=1],o[n]=e[n];return o},t.warnOnce=u,t.deprecated=function(e,t){return function(n,a,r){null!==n[a]&&"undefined"!==typeof n[a]&&u('"'+a+'" property of "'+r+'" has been deprecated.\n'+t);for(var o=arguments.length,c=new Array(o>3?o-3:0),s=3;s<o;s++)c[s-3]=arguments[s];return e.apply(void 0,[n,a,r].concat(c))}},t.DOMElement=f,t.isReactRefObj=g,t.toNumber=function(e){var t=typeof e;if("number"===t)return e;if("symbol"===t||"object"===t&&"[object Symbol]"===j(e))return NaN;if(h(e)){var n="function"===typeof e.valueOf?e.valueOf():e;e=h(n)?""+n:n}if("string"!==t)return 0===e?e:+e;e=e.replace(/^\s+|\s+$/g,"");var a=/^0b[01]+$/i.test(e);return a||/^0o[0-7]+$/i.test(e)?parseInt(e.slice(2),a?2:8):/^[-+]0x[0-9a-f]+$/i.test(e)?NaN:+e},t.isObject=h,t.isFunction=v,t.findDOMElements=O,t.isArrayOrNodeList=y,t.getTarget=function(e,t){var n=O(e);return t?y(n)?n:null===n?[]:[n]:y(n)?n[0]:n},t.addMultipleEventListeners=function(e,t,n,a){var r=e;y(r)||(r=[r]);var o=n;"string"===typeof o&&(o=o.split(/\s+/));if(!y(r)||"function"!==typeof t||!Array.isArray(o))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(o,(function(e){Array.prototype.forEach.call(r,(function(n){n.addEventListener(e,t,a)}))})),function(){Array.prototype.forEach.call(o,(function(e){Array.prototype.forEach.call(r,(function(n){n.removeEventListener(e,t,a)}))}))}},t.focusableElements=t.defaultToggleEvents=t.canUseDOM=t.PopperPlacements=t.keyCodes=t.TransitionStatuses=t.TransitionPropTypeKeys=t.TransitionTimeouts=t.tagPropType=t.targetPropType=void 0;var r,o=a(n(2));function c(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function s(e){document.body.style.paddingRight=e>0?e+"px":null}function i(){return document.body.clientWidth<window.innerWidth}var l={};function u(e){l[e]||("undefined"!==typeof console&&console.error(e),l[e]=!0)}var d="object"===typeof window&&window.Element||function(){};function f(e,t,n){if(!(e[t]instanceof d))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var p=o.default.oneOfType([o.default.string,o.default.func,f,o.default.shape({current:o.default.any})]);t.targetPropType=p;var b=o.default.oneOfType([o.default.func,o.default.string,o.default.shape({$$typeof:o.default.symbol,render:o.default.func}),o.default.arrayOf(o.default.oneOfType([o.default.func,o.default.string,o.default.shape({$$typeof:o.default.symbol,render:o.default.func})]))]);t.tagPropType=b;t.TransitionTimeouts={Fade:150,Collapse:350,Modal:300,Carousel:600};t.TransitionPropTypeKeys=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];t.TransitionStatuses={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"};t.keyCodes={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80};t.PopperPlacements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function g(e){return!(!e||"object"!==typeof e)&&"current"in e}function j(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function h(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function v(e){if(!h(e))return!1;var t=j(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}function O(e){if(g(e))return e.current;if(v(e))return e();if("string"===typeof e&&m){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function y(e){return null!==e&&(Array.isArray(e)||m&&"number"===typeof e.length)}t.canUseDOM=m;t.defaultToggleEvents=["touchstart","click"];t.focusableElements=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},529:function(e,t,n){"use strict";var a=n(519);t.__esModule=!0,t.default=void 0;var r=a(n(546)),o=a(n(547)),c=a(n(1)),s=a(n(2)),i=a(n(29)),l=n(523),u={children:s.default.node,row:s.default.bool,check:s.default.bool,inline:s.default.bool,disabled:s.default.bool,tag:l.tagPropType,className:s.default.string,cssModule:s.default.object},d=function(e){var t=e.className,n=e.cssModule,a=e.row,s=e.disabled,u=e.check,d=e.inline,f=e.tag,p=(0,o.default)(e,["className","cssModule","row","disabled","check","inline","tag"]),b=(0,l.mapToCssModules)((0,i.default)(t,!!a&&"row",u?"form-check":"form-group",!(!u||!d)&&"form-check-inline",!(!u||!s)&&"disabled"),n);return"fieldset"===f&&(p.disabled=s),c.default.createElement(f,(0,r.default)({},p,{className:b}))};d.propTypes=u,d.defaultProps={tag:"div"};var f=d;t.default=f},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(501),r=n(14),o=n(132),c=n(64),s=n(1),i=n.n(s),l=n(2),u=n.n(l),d=n(515),f=n(87);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var b=["defaultOpen"],m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(o.a)(n)),n}Object(c.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return i.a.createElement(d.a,Object(r.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(f.omit)(this.props,b)))},t}(s.Component);m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:u.a.bool},d.a.propTypes)},984:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(22),r=n.n(a),o=n(47),c=n(131),s=n(509),i=n.n(s),l=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)({url:"/transactions",method:"GET"},t);case 2:if(n=e.sent,console.log(n),!(n&&n.data.data&&n.data.status)){e.next=9;break}return e.next=7,t({type:"GET_ALL_TRANSACTIONS_DATA",data:n.data.data});case 7:e.next=11;break;case 9:console.log(n),Object(c.l)("Oops!","Something went wrong.","error");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=function(e,t){return function(){var n=Object(o.a)(r.a.mark((function n(a){var o,s,l,u,d,f,p,b;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=t.q,s=void 0===o?"":o,l=t.perPage,u=void 0===l?100:l,d=t.page,f=void 0===d?1:d,p=null===s||void 0===s?void 0:s.toLowerCase(),b=null===e||void 0===e?void 0:e.filter((function(e){var t,n,a,r,o,c,s;return(null===e||void 0===e||null===(t=e.transactionId)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(p))||(null===(a=i()(null===e||void 0===e?void 0:e.createdAt).format("lll"))||void 0===a||null===(r=a.toLowerCase())||void 0===r?void 0:r.includes(p))||(null===e||void 0===e||null===(o=e.student)||void 0===o||null===(c=o.firstName)||void 0===c||null===(s=c.toLowerCase())||void 0===s?void 0:s.includes(p))})),a({type:"GET_FILTERED_TRANSACTION_DATA",data:Object(c.i)(b,u,f),totalPages:b.length,params:t});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)({url:"/admin/users/transaction/".concat(e),method:"GET"},n);case 2:if(!((a=t.sent)&&a.data.data&&a.data.success)){t.next=8;break}return t.next=6,n({type:"GET_TRANSACTION",selectedTransaction:a.data.data});case 6:t.next=10;break;case 8:console.log(a),Object(c.l)("Oops!","Something went wrong.","error");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=31.e672e053.chunk.js.map