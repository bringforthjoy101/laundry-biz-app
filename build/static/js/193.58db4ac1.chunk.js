(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[193],{2296:function(e,a,t){"use strict";t.r(a);var n=t(30),c=t(1),i=t(495),s=t(509),l=t.n(s),r=t(497),o=t(1034),d=t(1037),u=t(1372),p=t(1041),j=t(1042),m=t(1162),h=t(1077),b=t(1108),x=t(1061),g=t(1153),v=t(1179),O=t(1110),f=t(1146),N=t(1104),w=t(1177),C=t(1096),y=t(6),P={Sent:{color:"light-secondary",icon:m.a},Paid:{color:"light-success",icon:h.a},draft:{color:"light-primary",icon:b.a},Downloaded:{color:"light-info",icon:x.a},published:{color:"light-success",icon:m.a},"Partial Payment":{color:"light-warning",icon:g.a}},D=function(e){var a,t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return(null===(a=e.avatar)||void 0===a?void 0:a.length)?Object(y.jsx)(r.a,{className:"mr-50",img:e.avatar,width:"32",height:"32"}):Object(y.jsx)(r.a,{color:t,className:"mr-50",content:e.RecipientCompanyName.toUpperCase()||"John Doe",initials:!0})},S=[{name:"#",minWidth:"20px",selector:"id",cell:function(e){return Object(y.jsx)(i.b,{to:"/apps/invoice/preview/".concat(e.id),children:"#".concat(e.id)})}},{name:Object(y.jsx)(v.a,{size:14}),minWidth:"20px",selector:"Status",sortable:!0,cell:function(e){var a=P[e.Status]?P[e.Status].color:"primary",t=P[e.Status]?P[e.Status].icon:b.a;return Object(y.jsx)(r.a,{color:a,icon:Object(y.jsx)(t,{size:14})})}},{name:"Client",width:"250px",selector:"RecipientCompanyName",sortable:!0,cell:function(e){var a=e.RecipientCompanyName||"Fountain Pay",t=e.RecipientCompanyEmail||"support@fountainpay.ng";return Object(y.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[D(e),Object(y.jsxs)("div",{className:"d-flex flex-column",children:[Object(y.jsx)("h6",{className:"user-name text-truncate mb-0",children:a}),Object(y.jsx)("small",{className:"text-truncate text-muted mb-0",children:t})]})]})}},{name:"Total",selector:"total",sortable:!0,minWidth:"150px",width:"150px",cell:function(e){return Object(y.jsxs)("span",{children:[e.Currency," ",e.Amount.toLocaleString()||0]})}},{name:"Issued Date",selector:"createdAt",sortable:!0,minWidth:"100px",width:"150px",cell:function(e){return l()(e.createdAt).format("ll")}},{name:"Due Date",selector:"DueAt",sortable:!0,minWidth:"100px",width:"150px",cell:function(e){return l()(e.DueAt).format("ll")}},{name:"Balance",selector:"balance",sortable:!0,minWidth:"164px",cell:function(e){return 0!==e.balance?Object(y.jsxs)("span",{children:[e.Currency," ",e.Balance.toLocaleString()||0]}):Object(y.jsx)(o.a,{color:"light-success",pill:!0,children:"Paid"})}},{name:"Action",minWidth:"70px",width:"150px",selector:"",sortable:!0,cell:function(e){return Object(y.jsxs)("div",{className:"column-action d-flex align-items-center",children:[Object(y.jsx)(m.a,{size:17}),Object(y.jsx)(i.b,{to:"/invoice/preview/".concat(e.id),children:Object(y.jsx)(O.a,{size:17,className:"mx-1"})}),Object(y.jsxs)(d.a,{children:[Object(y.jsx)(u.a,{tag:"span",children:Object(y.jsx)(f.a,{size:17,className:"cursor-pointer"})}),Object(y.jsxs)(p.a,{right:!0,children:[Object(y.jsxs)(j.a,{tag:"a",href:"/",className:"w-100",onClick:function(e){return e.preventDefault()},children:[Object(y.jsx)(N.a,{size:14,className:"mr-50"}),Object(y.jsx)("span",{className:"align-middle",children:"Download"})]}),Object(y.jsxs)(j.a,{tag:i.b,to:"/invoice/edit/".concat(e.id),className:"w-100",children:[Object(y.jsx)(b.a,{size:14,className:"mr-50"}),Object(y.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(y.jsxs)(j.a,{tag:"a",href:"/",className:"w-100",onClick:function(e){return e.preventDefault()},children:[Object(y.jsx)(w.a,{size:14,className:"mr-50"}),Object(y.jsx)("span",{className:"align-middle",children:"Delete"})]}),Object(y.jsxs)(j.a,{tag:"a",href:"/",className:"w-100",onClick:function(e){return e.preventDefault()},children:[Object(y.jsx)(C.a,{size:14,className:"mr-50"}),Object(y.jsx)("span",{className:"align-middle",children:"Duplicate"})]})]})]})]})}}],k=t(511),L=t.n(k),A=t(1080),I=t(517),E=t.n(I),z=t(502),R=t(503),T=t(518),q=t(1025),W=t(491),F=t(1046),V=t(504),_=t(22),H=t.n(_),J=t(47),B=(t(48),t(131)),G=function(e,a){return function(){var t=Object(J.a)(H.a.mark((function t(n){var c,i,s,l,r,o,d,u,p,j;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=a.q,i=void 0===c?"":c,s=a.perPage,l=void 0===s?10:s,r=a.page,o=void 0===r?1:r,d=a.status,u=void 0===d?null:d,p=i.toLowerCase(),j=null===e||void 0===e?void 0:e.filter((function(e){var a,t,n;return((null===e||void 0===e||null===(a=e.RecipientCompanyName)||void 0===a?void 0:a.toLowerCase().includes(p))||(null===e||void 0===e||null===(t=e.RecipientCompanyEmail)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(p)))&&e.Status.toLowerCase()===(u.toLowerCase()||e.Status.toLowerCase())})),n({type:"GET_FILTERED_INVOICE_DATA",data:Object(B.i)(j,l,o),totalPages:j.length,params:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=t(88),U=(t(560),t(510),function(e){var a=e.handleFilter,t=e.value,n=e.handleStatusValue,c=e.statusValue,s=e.handlePerPage,l=e.rowsPerPage;return Object(y.jsx)("div",{className:"invoice-list-table-header w-100 py-2",children:Object(y.jsxs)(z.a,{children:[Object(y.jsxs)(R.a,{lg:"6",className:"d-flex align-items-center px-0 px-lg-1",children:[Object(y.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(y.jsx)(T.a,{for:"rows-per-page",children:"Show"}),Object(y.jsxs)(q.a,{className:"form-control ml-50 pr-3",type:"select",id:"rows-per-page",value:l,onChange:s,children:[Object(y.jsx)("option",{value:"10",children:"10"}),Object(y.jsx)("option",{value:"25",children:"25"}),Object(y.jsx)("option",{value:"50",children:"50"})]})]}),Object(y.jsx)(W.a.Ripple,{tag:i.b,to:"/apps/invoice/add",color:"primary",children:"Add Record"})]}),Object(y.jsxs)(R.a,{lg:"6",className:"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pr-lg-1 p-0",children:[Object(y.jsxs)("div",{className:"d-flex align-items-center",children:[Object(y.jsx)(T.a,{for:"search-invoice",children:"Search"}),Object(y.jsx)(F.a,{id:"search-invoice",className:"ml-50 mr-2 w-100",type:"text",value:t,onChange:function(e){return a(e.target.value)},placeholder:"Search Invoice"})]}),Object(y.jsxs)(F.a,{className:"w-auto ",type:"select",value:c,onChange:n,children:[Object(y.jsx)("option",{value:"",children:"Select Status"}),Object(y.jsx)("option",{value:"downloaded",children:"Downloaded"}),Object(y.jsx)("option",{value:"draft",children:"Draft"}),Object(y.jsx)("option",{value:"paid",children:"Paid"}),Object(y.jsx)("option",{value:"partial payment",children:"Partial Payment"}),Object(y.jsx)("option",{value:"published",children:"Published"}),Object(y.jsx)("option",{value:"partial payment",children:"Partial Payment"})]})]})]})})});a.default=function(){var e=Object(M.b)(),a=Object(M.c)((function(e){return e.invoice})),t=Object(c.useState)(""),i=Object(n.a)(t,2),s=i[0],l=i[1],r=Object(c.useState)(1),o=Object(n.a)(r,2),d=o[0],u=o[1],p=Object(c.useState)(""),j=Object(n.a)(p,2),m=j[0],h=j[1],b=Object(c.useState)(10),x=Object(n.a)(b,2),g=x[0],v=x[1];Object(c.useEffect)((function(){e(function(){var e=Object(J.a)(H.a.mark((function e(a){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)({url:"/invoices/get",method:"POST"},a);case 2:if(!(t=e.sent)){e.next=13;break}if(console.log(t.data),!t.data.data||!t.data.status){e.next=10;break}return e.next=8,a({type:"GET_ALL_INVOICE_DATA",data:t.data.data});case 8:e.next=11;break;case 10:console.log(t.error);case 11:e.next=14;break;case 13:Object(B.l)("Oops!","Somthing went wrong with your network.","error");case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),e(G(a.allData,{page:d,perPage:g,status:m,q:s}))}),[e]);return Object(y.jsx)("div",{className:"invoice-list-wrapper",children:Object(y.jsx)(V.a,{children:Object(y.jsx)("div",{className:"invoice-list-dataTable",children:Object(y.jsx)(E.a,{noHeader:!0,pagination:!0,paginationServer:!0,subHeader:!0,columns:S,responsive:!0,sortIcon:Object(y.jsx)(A.a,{}),className:"react-dataTable",defaultSortField:"invoiceId",paginationDefaultPage:d,paginationComponent:function(){var t=Number((a.total/g).toFixed(0));return Object(y.jsx)(L.a,{pageCount:t||1,nextLabel:"",breakLabel:"...",previousLabel:"",activeClassName:"active",breakClassName:"page-item",breakLinkClassName:"page-link",forcePage:0!==d?d-1:0,onPageChange:function(t){return function(t){e(G(a.allData,{page:t.selected+1,perPage:g,status:m,q:s})),u(t.selected+1)}(t)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end p-1"})},data:function(){var e={status:m,q:s},t=Object.keys(e).some((function(a){return e[a].length>0}));return a.data.length>0?a.data:0===a.data.length&&t?[]:a.allData.slice(0,g)}(),subHeaderComponent:Object(y.jsx)(U,{value:s,statusValue:m,rowsPerPage:g,handleFilter:function(t){l(t),e(G(a.allData,{page:d,perPage:g,status:m,q:t}))},handlePerPage:function(t){e(G(a.allData,{page:d,perPage:parseInt(t.target.value),status:m,q:s})),v(parseInt(t.target.value))},handleStatusValue:function(t){h(t.target.value),e(G(a.allData,{page:d,perPage:g,status:t.target.value,q:s}))}})})})})})}},510:function(e,a,t){},560:function(e,a,t){}}]);
//# sourceMappingURL=193.58db4ac1.chunk.js.map