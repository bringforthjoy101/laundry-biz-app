(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[174],{2284:function(e,t,a){"use strict";a.r(t);var r=a(30),c=a(1),n=a(839),s=a(495),o=(a(530),a(502)),i=a(503),l=a(518),u=a(1028),d=(a(1044),a(1045),a(845),a(1046),a(491)),j=(a(1181),a(1111),a(1127),a(1117),a(1093),a(1168),a(6)),b=a(0),h=a(22),m=a.n(h),p=a(47),O=a(88),f=a(497),x=a(1108),g=a(1176),v=a(1049),y=a(535),w=a(632),k=a(131),N=function(e){var t=e.selectedProduct,a=Object(O.b)(),n=Object(c.useState)(null),s=Object(r.a)(n,2),h=s[0],N=s[1],P=Object(c.useState)({name:t.name,qty:t.qty,price:t.price,status:t.status}),T=Object(r.a)(P,2),q=T[0],C=T[1],S=function(){var e=Object(p.a)(m.a.mark((function e(r,c){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log({errors:c}),!c||c.length){e.next=16;break}return console.log({productData:q}),n=JSON.stringify(q),e.prev=5,e.next=8,Object(k.a)({url:"/products/update/".concat(t.id),method:"POST",body:n},a);case 8:s=e.sent,console.log({response:s}),s.data.status?(Object(k.l)("Great job!",s.data.message,"success"),a(Object(w.b)()),a(Object(w.d)(t.id)),C({name:t.name,qty:t.qty,price:t.price,status:t.status})):(Object(k.l)("Oops!",s.data.message,"error"),C({name:t.name,qty:t.qty,price:t.price,status:t.status})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error({error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(null!==t)return t.image.length?N(t.image):N(null)}),[t]);return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(i.a,{sm:"12",children:Object(j.jsxs)(v.a,{className:"mb-2",children:[function(){if(null===h){var e=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(j.jsx)(f.a,{initials:!0,color:e,className:"rounded mr-2 my-25",content:t.name,contentStyles:{borderRadius:0,fontSize:"calc(36px)",width:"100%",height:"100%"},style:{height:"90px",width:"90px"}})}return Object(j.jsx)("img",{className:"user-avatar rounded mr-2 my-25 cursor-pointer",src:h,alt:"user profile avatar",height:"90",width:"90"})}(),Object(j.jsxs)(v.a,{className:"mt-50",body:!0,children:[Object(j.jsxs)("h4",{children:[t.fullName," "]}),Object(j.jsxs)("div",{className:"d-flex flex-wrap mt-1 px-0",children:[Object(j.jsxs)(d.a.Ripple,{id:"change-img",tag:l.a,className:"mr-75 mb-0",color:"primary",children:[Object(j.jsx)("span",{className:"d-none d-sm-block",children:"Change"}),Object(j.jsx)("span",{className:"d-block d-sm-none",children:Object(j.jsx)(x.a,{size:14})}),Object(j.jsx)("input",{type:"file",hidden:!0,id:"change-img",onChange:function(e){var t=new FileReader,a=e.target.files;t.onload=function(){N(t.result)},t.readAsDataURL(a[0])},accept:"image/*"})]}),Object(j.jsxs)(d.a.Ripple,{color:"secondary",outline:!0,children:[Object(j.jsx)("span",{className:"d-none d-sm-block",children:"Remove"}),Object(j.jsx)("span",{className:"d-block d-sm-none",children:Object(j.jsx)(g.a,{size:14})})]})]})]})]})}),Object(j.jsx)(i.a,{sm:"12",children:Object(j.jsx)(y.AvForm,{onSubmit:S,children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(i.a,{md:"6",sm:"12",children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(l.a,{for:"name",children:"Product Name"}),Object(j.jsx)(y.AvInput,{name:"name",id:"name",placeholder:"Product Name",value:t.name,onChange:function(e){return C(Object(b.a)(Object(b.a)({},q),{},{name:e.target.value}))},required:!0})]})}),Object(j.jsx)(i.a,{md:"6",sm:"12",children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(l.a,{for:"price",children:"Product Price"}),Object(j.jsx)(y.AvInput,{name:"price",id:"price",placeholder:"Product Price",value:t.price,onChange:function(e){return C(Object(b.a)(Object(b.a)({},q),{},{price:e.target.value}))},required:!0})]})}),Object(j.jsx)(i.a,{md:"6",sm:"12",children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(l.a,{for:"qty",children:"Product Qty"}),Object(j.jsx)(y.AvInput,{name:"qty",id:"qty",placeholder:"Product Qty",value:t.qty,onChange:function(e){return C(Object(b.a)(Object(b.a)({},q),{},{qty:e.target.value}))},required:!0})]})}),Object(j.jsx)(i.a,{md:"6",sm:"12",children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(l.a,{for:"status",children:"Status"}),Object(j.jsxs)(y.AvInput,{type:"select",id:"status",name:"status",value:t.status,onChange:function(e){return C(Object(b.a)(Object(b.a)({},q),{},{status:e.target.value}))},required:!0,children:[Object(j.jsx)("option",{value:t.status,className:"text-cpitalize",children:t.status}),Object(j.jsx)("option",{value:"in stock",children:"In Stock"}),Object(j.jsx)("option",{value:"out of stock",children:"Out Of Stock"})]})]})}),Object(j.jsxs)(i.a,{className:"d-flex flex-sm-row flex-column mt-2",sm:"12",children:[Object(j.jsx)(d.a,{className:"mb-1 mb-sm-0 mr-0 mr-sm-1",type:"submit",color:"primary",children:"Save Changes"}),Object(j.jsx)(d.a,{color:"secondary",outline:!0,children:"Reset"})]})]})})})]})},P=(a(65),a(521),a(1186)),T=(a(1138),a(516),a(504)),q=a(498),C=a(605),S=a(1053),z=a(1054),A=a(659),E=a(660),R=a(527);a(506),t.default=function(){var e=Object(c.useState)("1"),t=Object(r.a)(e,2),a=t[0],l=t[1],u=Object(O.c)((function(e){return e.products})),d=Object(O.b)(),b=Object(n.i)().id;return Object(c.useEffect)((function(){d(Object(w.d)(parseInt(b)))}),[d]),null!==u.selectedProduct&&void 0!==u.selectedProduct?Object(j.jsx)(o.a,{className:"app-user-edit",children:Object(j.jsx)(i.a,{sm:"12",children:Object(j.jsx)(T.a,{children:Object(j.jsxs)(q.a,{className:"pt-2",children:[Object(j.jsx)(C.a,{pills:!0,children:Object(j.jsx)(S.a,{children:Object(j.jsxs)(z.a,{active:"1"===a,onClick:function(){return l("1")},children:[Object(j.jsx)(P.a,{size:14}),Object(j.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Product"})]})})}),Object(j.jsx)(A.a,{activeTab:a,children:Object(j.jsx)(E.a,{tabId:"1",children:Object(j.jsx)(N,{selectedProduct:u.selectedProduct})})})]})})})}):Object(j.jsxs)(R.a,{color:"danger",children:[Object(j.jsx)("h4",{className:"alert-heading",children:"Users not found"}),Object(j.jsxs)("div",{className:"alert-body",children:["Users with id: ",b," doesn't exist. Check list of all Users: ",Object(j.jsx)(s.b,{to:"/app/user/list",children:"Users List"})]})]})}},506:function(e,t,a){},516:function(e,t,a){},518:function(e,t,a){"use strict";var r=a(14),c=a(15),n=a(1),s=a.n(n),o=a(2),i=a.n(o),l=a(29),u=a.n(l),d=a(87),j=i.a.oneOfType([i.a.number,i.a.string]),b=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:j,order:j,offset:j})]),h={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,xs:b,sm:b,md:b,lg:b,xl:b,widths:i.a.array},m={tag:"label",widths:["xs","sm","md","lg","xl"]},p=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,n=e.hidden,o=e.widths,i=e.tag,l=e.check,j=e.size,b=e.for,h=Object(c.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),m=[];o.forEach((function(t,r){var c=e[t];if(delete h[t],c||""===c){var n,s=!r;if(Object(d.isObject)(c)){var o,i=s?"-":"-"+t+"-";n=p(s,t,c.size),m.push(Object(d.mapToCssModules)(u()(((o={})[n]=c.size||""===c.size,o["order"+i+c.order]=c.order||0===c.order,o["offset"+i+c.offset]=c.offset||0===c.offset,o))),a)}else n=p(s,t,c),m.push(n)}}));var O=Object(d.mapToCssModules)(u()(t,!!n&&"sr-only",!!l&&"form-check-label",!!j&&"col-form-label-"+j,m,!!m.length&&"col-form-label"),a);return s.a.createElement(i,Object(r.a)({htmlFor:b},h,{className:O}))};O.propTypes=h,O.defaultProps=m,t.a=O},632:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return u}));var r=a(22),c=a.n(r),n=a(47),s=a(131),o=function(){return function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)({url:"/products",method:"GET"},t);case 2:if(!((a=e.sent)&&a.data.data&&a.data.status)){e.next=8;break}return e.next=6,t({type:"GET_ALL_PRODUCTS_DATA",data:a.data.data});case 6:e.next=10;break;case 8:console.log(a),Object(s.l)("Oops!","Something went wrong.","error");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(r){var n,o,i,l,u,d,j,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.q,o=void 0===n?"":n,i=t.perPage,l=void 0===i?100:i,u=t.page,d=void 0===u?1:u,j=null===o||void 0===o?void 0:o.toLowerCase(),b=null===e||void 0===e?void 0:e.filter((function(e){var t,a;return null===e||void 0===e||null===(t=e.name)||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(j)})),r({type:"GET_FILTERED_PRODUCT_DATA",data:Object(s.i)(b,l,d),totalPages:b.length,params:t});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)({url:"/products/get-detail/".concat(e),method:"GET"},a);case 2:if(!((r=t.sent)&&r.data.data&&r.data.status)){t.next=8;break}return t.next=6,a({type:"GET_A_PRODUCT",selectedProduct:r.data.data});case 6:t.next=10;break;case 8:console.log(r),Object(s.l)("Oops!","Something went wrong.","error");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)({url:"/products/delete/".concat(e),method:"GET"},a);case 2:if(!(r=t.sent)||!r.data.status){t.next=7;break}return t.abrupt("return",r.data);case 7:console.log(r),Object(s.l)("Oops!","Something went wrong.","error");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=174.db0e1d88.chunk.js.map